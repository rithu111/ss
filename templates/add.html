<!DOCTYPE html>
<html>
<head>
    <title>Add Student Details</title>
</head>
<body>
    <h1>Add Student Details</h1>
    <form id="add-form" action="/add" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name"><br><br>

        <label for="age">Age:</label>
        <input type="text" id="age" name="age"><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br><br>

        <input type="submit" value="Add">
    </form>

    <script>
        const addForm = document.getElementById('add-form');

        addForm.addEventListener('submit', async (event) => {
            event.preventDefault(); // Prevent default form submission

            // Submit the form using AJAX/fetch
            const response = await fetch(addForm.action, {
                method: 'POST',
                body: new URLSearchParams(new FormData(addForm))
            });

            // Check if the response is successful
            if (response.ok) {
                // Redirect to the success page
                window.location.href = '/add2';
            } else {
                console.error('Failed to submit the form');
            }
        });
    </script>
</body>
</html>
